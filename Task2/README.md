## Установка

```bash
npm i
cp sample.env .env
npx prisma migrate deploy
```

## Запуск проекта

```bash
# development
npm run start

# watch mode
npm run start:dev

# production mode
npm run start:prod
```

## Деплой

```bash
npm install -g mau
mau deploy
```

## Эндпоинты

`PATCH /api/resolveProblems` - установка флага в `false` и возврат количества в соответствии с ТЗ
```typescript
->
{
    count: number, // количество затронутых пользователей
}
```

`PATCH /api/causeProblems?count=n` - устанавливает флаг проблем `n` случайным пользователям в `true`, для тестирования
```typescript
->
{
    count: number, // количество затронутых пользователей
}
```

## ТЗ

Нужно написать сервис, который работает с пользователями. В бд может быть более 1 миллиона пользователей (набить данными бд нужно самостоятельно. Например, написать миграцию, которая это сделает). Каждый пользователь имеет поля:
- Имя
- Фамилия
- Возраст
- Пол
- проблемы: boolean // есть ли проблемы у пользователя
Нужно сделать endpoint, который проставить флаг проблемы у пользователей в false и посчитает, сколько пользователей имело true в этом флаге. Этот сервис нужно реализовать на nestjs

## Используемые технологии

- TypeScript
- NestJS
- Prisma+Postgresql

## Примечание
Данные в базу набиваются при помощи скрипта ./prisma/seed.ts